# VPC Study and Exam Notes

:sparkles: [VPC FAQ](https://aws.amazon.com/vpc/faqs/)

:sparkles: [VPC Documentation](https://aws.amazon.com/documentation/vpc/)

A VPC is a logical data center in an AWS region.  VPCs span AZs but not regions.  

A VPC consists of:
  - an IGW or Virtual Private Gateway
  - Route tables
  - Network ACLs
  - Subnets
  - Security Groups

**Exam Tip**: 1 subnet = 1 availability zone (AZ).  Subnets cannot span across AZs.  
**Exam Tip**: Security Groups can span multiple subnets and AZs.  
**Exam Tip**: Only one Internet gateway per VPC

## Default VPC vs Custom VPC

1. Default VPCs are user friendly allowing you to immediately deploy instances
2. All subnets in a default VPC have a route out to the Internet.  They're all public.
3. Each EC2 instance deployed in the default VPC has a public and private IP address.
4. If you delete the default VPC, the only way to recover is to contact AWS.

## Creating a Custom VPC

**Exam Tip**: IGW and Subnets not created by default.   Default security group, NACL and route table are created.

1. Leave the default route table alone.
2. Create a new route table
3. In the new route table, route all public traffic through the IGW
4. **Note:**  When you create a new subnet, it is associated to the main route table by default!
5. In the new public route table, edit the assigned subnets and assign the "public" subnet to public 
route table
6. Modify the auto-assign public IP setting for the public subnet to Yes
